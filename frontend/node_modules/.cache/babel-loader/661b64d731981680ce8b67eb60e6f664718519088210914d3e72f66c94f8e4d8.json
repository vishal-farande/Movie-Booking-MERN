{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/vivek/Documents/VSem/WebLab/Movie_ticket_system_MERN/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/vivek/Documents/VSem/WebLab/Movie_ticket_system_MERN/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:/Users/vivek/Documents/VSem/WebLab/Movie_ticket_system_MERN/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React from\"react\";import{useState,useEffect}from\"react\";import Header from\"./Header\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Eticket(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),eticket=_useState2[0],setEticket=_useState2[1];useEffect(function(){listeticket();},[]);function listeticket(){return _listeticket.apply(this,arguments);}function _listeticket(){_listeticket=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var location,token,settings,fetchResponse,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:location=\"localhost\";token=sessionStorage.getItem('token');settings={method:'GET',headers:{Accept:'application/json','Content-Type':'application/json',Authorization:\"Bearer \".concat(token)}};_context.prev=3;_context.next=6;return fetch(\"http://\".concat(location,\":3000/bookings/eticket/\"),settings);case 6:fetchResponse=_context.sent;_context.next=9;return fetchResponse.json();case 9:data=_context.sent;console.log(data.history);setEticket(data.history);_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](3);return _context.abrupt(\"return\",_context.t0);case 17:case\"end\":return _context.stop();}}},_callee,null,[[3,14]]);}));return _listeticket.apply(this,arguments);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\" col-md-6 m-5 mx-auto\",children:[/*#__PURE__*/_jsx(\"h3\",{id:\"update4\",className:\"Update4 text-white\",children:\"E-TICKET\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered table-responsive\",id:\"eticket\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-transparent text-white\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"text-center\",children:\"BOOKING ID\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"text-center\",children:\"EMAIL\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"text-center\",children:\"MOVIE NAME\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"text-center\",children:\"DATE\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"text-center\",children:\"TIME\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"text-center\",children:\"NO OF SEATS\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"m-3 p-5\",id:\"eticketData\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:eticket._id}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:eticket.email}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:eticket.movie_name}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:eticket.date}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:eticket.time}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:eticket.no_of_seat})]})})]})]})]});}export default Eticket;","map":{"version":3,"names":["React","useState","useEffect","Header","Eticket","eticket","setEticket","listeticket","location","token","sessionStorage","getItem","settings","method","headers","Accept","Authorization","fetch","fetchResponse","json","data","console","log","history","_id","email","movie_name","date","time","no_of_seat"],"sources":["C:/Users/vivek/Documents/VSem/WebLab/Movie_ticket_system_MERN/frontend/src/components/Eticket.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Header from \"./Header\";\r\n\r\n\r\nfunction Eticket() {\r\n    const [eticket, setEticket] = useState({})\r\n\r\n    useEffect(() => {\r\n        listeticket();\r\n    }, []);\r\n\r\n    async function listeticket() {\r\n\r\n        const location = \"localhost\";\r\n        const token = sessionStorage.getItem('token');\r\n        const settings = {\r\n            method: 'GET',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${token}`,\r\n            }\r\n        };\r\n\r\n        try {\r\n            //user list\r\n            const fetchResponse = await fetch(`http://${location}:3000/bookings/eticket/`, settings);\r\n            const data = await fetchResponse.json();\r\n            console.log(data.history);\r\n            setEticket(data.history);\r\n        }\r\n        catch (e) {\r\n            return e;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div className=\" col-md-6 m-5 mx-auto\">\r\n                <h3 id=\"update4\" className=\"Update4 text-white\">E-TICKET</h3>\r\n                <table className=\"table table-bordered table-responsive\" id=\"eticket\" >\r\n\r\n                    <thead className=\"thead-transparent text-white\">\r\n                        <tr>\r\n                            <th scope=\"col\" className=\"text-center\">BOOKING ID</th>\r\n                            <th scope=\"col\" className=\"text-center\">EMAIL</th>\r\n                            <th scope=\"col\" className=\"text-center\">MOVIE NAME</th>\r\n                            <th scope=\"col\" className=\"text-center\">DATE</th>\r\n                            <th scope=\"col\" className=\"text-center\">TIME</th>\r\n                            <th scope=\"col\" className=\"text-center\">NO OF SEATS</th>\r\n                        </tr>\r\n                    </thead>\r\n\r\n                    <tbody className=\"m-3 p-5\" id=\"eticketData\">\r\n                        <tr>\r\n                            <td className=\"text-center\">{eticket._id}</td>\r\n                            <td className=\"text-center\">{eticket.email}</td>\r\n                            <td className=\"text-center\">{eticket.movie_name}</td>\r\n                            <td className=\"text-center\">{eticket.date}</td>\r\n                            <td className=\"text-center\">{eticket.time}</td>\r\n                            <td className=\"text-center\">{eticket.no_of_seat}</td>\r\n                        </tr>\r\n                    </tbody>\r\n\r\n                </table>\r\n            </div>\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nexport default Eticket;"],"mappings":"udAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAOC,OAAM,KAAM,UAAU,CAAC,6IAG9B,QAASC,QAAO,EAAG,CACf,cAA8BH,QAAQ,CAAC,CAAC,CAAC,CAAC,wCAAnCI,OAAO,eAAEC,UAAU,eAE1BJ,SAAS,CAAC,UAAM,CACZK,WAAW,EAAE,CACjB,CAAC,CAAE,EAAE,CAAC,CAAC,QAEQA,YAAW,2IAA1B,kLAEUC,QAAQ,CAAG,WAAW,CACtBC,KAAK,CAAGC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,CACvCC,QAAQ,CAAG,CACbC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACLC,MAAM,CAAE,kBAAkB,CAC1B,cAAc,CAAE,kBAAkB,CAClCC,aAAa,kBAAYP,KAAK,CAClC,CACJ,CAAC,uCAI+BQ,MAAK,kBAAWT,QAAQ,4BAA2BI,QAAQ,CAAC,QAAlFM,aAAa,qCACAA,cAAa,CAACC,IAAI,EAAE,QAAjCC,IAAI,eACVC,OAAO,CAACC,GAAG,CAACF,IAAI,CAACG,OAAO,CAAC,CACzBjB,UAAU,CAACc,IAAI,CAACG,OAAO,CAAC,CAAC,mMAMhC,8CAGD,mBACI,wCACI,KAAC,MAAM,IAAG,cACV,aAAK,SAAS,CAAC,uBAAuB,wBAClC,WAAI,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,oBAAoB,sBAAc,cAC7D,eAAO,SAAS,CAAC,uCAAuC,CAAC,EAAE,CAAC,SAAS,wBAEjE,cAAO,SAAS,CAAC,8BAA8B,uBAC3C,mCACI,WAAI,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,wBAAgB,cACvD,WAAI,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,mBAAW,cAClD,WAAI,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,wBAAgB,cACvD,WAAI,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,kBAAU,cACjD,WAAI,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,kBAAU,cACjD,WAAI,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,yBAAiB,GACvD,EACD,cAER,cAAO,SAAS,CAAC,SAAS,CAAC,EAAE,CAAC,aAAa,uBACvC,mCACI,WAAI,SAAS,CAAC,aAAa,UAAElB,OAAO,CAACmB,GAAG,EAAM,cAC9C,WAAI,SAAS,CAAC,aAAa,UAAEnB,OAAO,CAACoB,KAAK,EAAM,cAChD,WAAI,SAAS,CAAC,aAAa,UAAEpB,OAAO,CAACqB,UAAU,EAAM,cACrD,WAAI,SAAS,CAAC,aAAa,UAAErB,OAAO,CAACsB,IAAI,EAAM,cAC/C,WAAI,SAAS,CAAC,aAAa,UAAEtB,OAAO,CAACuB,IAAI,EAAM,cAC/C,WAAI,SAAS,CAAC,aAAa,UAAEvB,OAAO,CAACwB,UAAU,EAAM,GACpD,EACD,GAEJ,GACN,GACP,CAGX,CAEA,cAAezB,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}