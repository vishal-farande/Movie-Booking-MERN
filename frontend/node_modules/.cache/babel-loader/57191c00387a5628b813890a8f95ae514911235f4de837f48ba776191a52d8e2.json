{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/vivek/Documents/VSem/WebLab/Movie_ticket_system_MERN/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/vivek/Documents/VSem/WebLab/Movie_ticket_system_MERN/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:/Users/vivek/Documents/VSem/WebLab/Movie_ticket_system_MERN/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React from\"react\";import{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Listallmovie(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),lmovies=_useState2[0],setMovies=_useState2[1];useEffect(function(){listmovies();},[]);function listmovies(){return _listmovies.apply(this,arguments);}function _listmovies(){_listmovies=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var location,token,settings,fetchResponse,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:location=\"localhost\";token=sessionStorage.getItem('token');settings={method:'GET',headers:{Accept:'application/json','Content-Type':'application/json',Authorization:\"Bearer \".concat(token)}};_context.prev=3;_context.next=6;return fetch(\"http://\".concat(location,\":3000/movies/listallmovie/\"),settings);case 6:fetchResponse=_context.sent;_context.next=9;return fetchResponse.json();case 9:data=_context.sent;setMovies(data.listMovie);_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](3);return _context.abrupt(\"return\",_context.t0);case 16:case\"end\":return _context.stop();}}},_callee,null,[[3,13]]);}));return _listmovies.apply(this,arguments);}return/*#__PURE__*/_jsx(_Fragment,{children:lmovies.map(function(listMovie){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card text-center mb-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",id:\"cardhead\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Ongoing Movies\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:listMovie.movie_name}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:listMovie.description}),/*#__PURE__*/_jsx(Link,{to:\"/bookticket\",className:\"btn btn-primary\",children:\"Book Now\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-footer text-White\",id:\"cardfoot\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Runtime (HH:MM) :-\"}),listMovie.runtime]})]})})})});})});}export default Listallmovie;","map":{"version":3,"names":["React","useState","useEffect","Link","Listallmovie","lmovies","setMovies","listmovies","location","token","sessionStorage","getItem","settings","method","headers","Accept","Authorization","fetch","fetchResponse","json","data","listMovie","map","movie_name","description","runtime"],"sources":["C:/Users/vivek/Documents/VSem/WebLab/Movie_ticket_system_MERN/frontend/src/components/Listallmovies.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Listallmovie() {\r\n    const [lmovies, setMovies] = useState([])\r\n\r\n    useEffect(() => {\r\n        listmovies();\r\n    }, []);\r\n\r\n    async function listmovies() {\r\n\r\n        const location = \"localhost\";\r\n        const token = sessionStorage.getItem('token');\r\n        const settings = {\r\n            method: 'GET',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${token}`,\r\n            }\r\n        };\r\n\r\n        try {\r\n            //user list\r\n            const fetchResponse = await fetch(`http://${location}:3000/movies/listallmovie/`, settings);\r\n            const data = await fetchResponse.json();\r\n            setMovies(data.listMovie);\r\n        }\r\n        catch (e) {\r\n            return e;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            {lmovies.map(listMovie => {\r\n                return (<>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm-5\">\r\n                            <div className=\"card text-center mb-5\" >\r\n                                <div className=\"card-header\" id=\"cardhead\"><b>Ongoing Movies</b></div>\r\n                                <div className=\"card-body\">\r\n                                    <h5 className=\"card-title\">{listMovie.movie_name}</h5>\r\n                                    <p className=\"card-text\">{listMovie.description}</p>\r\n                                    <Link to=\"/bookticket\" className=\"btn btn-primary\">Book Now</Link>\r\n                                </div>\r\n                                <div className=\"card-footer text-White\" id=\"cardfoot\"><b>Runtime (HH:MM) :-</b>\r\n                                    {listMovie.runtime}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n\r\n                )\r\n            })}\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nexport default Listallmovie;"],"mappings":"udAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,IAAI,KAAQ,kBAAkB,CAAC,6IAExC,QAASC,aAAY,EAAG,CACpB,cAA6BH,QAAQ,CAAC,EAAE,CAAC,wCAAlCI,OAAO,eAAEC,SAAS,eAEzBJ,SAAS,CAAC,UAAM,CACZK,UAAU,EAAE,CAChB,CAAC,CAAE,EAAE,CAAC,CAAC,QAEQA,WAAU,wIAAzB,kLAEUC,QAAQ,CAAG,WAAW,CACtBC,KAAK,CAAGC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,CACvCC,QAAQ,CAAG,CACbC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACLC,MAAM,CAAE,kBAAkB,CAC1B,cAAc,CAAE,kBAAkB,CAClCC,aAAa,kBAAYP,KAAK,CAClC,CACJ,CAAC,uCAI+BQ,MAAK,kBAAWT,QAAQ,+BAA8BI,QAAQ,CAAC,QAArFM,aAAa,qCACAA,cAAa,CAACC,IAAI,EAAE,QAAjCC,IAAI,eACVd,SAAS,CAACc,IAAI,CAACC,SAAS,CAAC,CAAC,mMAMjC,6CAGD,mBACI,yBACKhB,OAAO,CAACiB,GAAG,CAAC,SAAAD,SAAS,CAAI,CACtB,mBAAQ,sCACJ,YAAK,SAAS,CAAC,KAAK,uBAChB,YAAK,SAAS,CAAC,UAAU,uBACrB,aAAK,SAAS,CAAC,uBAAuB,wBAClC,YAAK,SAAS,CAAC,aAAa,CAAC,EAAE,CAAC,UAAU,uBAAC,qCAAqB,EAAM,cACtE,aAAK,SAAS,CAAC,WAAW,wBACtB,WAAI,SAAS,CAAC,YAAY,UAAEA,SAAS,CAACE,UAAU,EAAM,cACtD,UAAG,SAAS,CAAC,WAAW,UAAEF,SAAS,CAACG,WAAW,EAAK,cACpD,KAAC,IAAI,EAAC,EAAE,CAAC,aAAa,CAAC,SAAS,CAAC,iBAAiB,sBAAgB,GAChE,cACN,aAAK,SAAS,CAAC,wBAAwB,CAAC,EAAE,CAAC,UAAU,wBAAC,yCAAyB,CAC1EH,SAAS,CAACI,OAAO,GAChB,GACJ,EACJ,EACJ,EACP,CAGP,CAAC,CAAC,EACH,CAGX,CAEA,cAAerB,aAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}