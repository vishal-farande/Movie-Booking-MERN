{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vivek\\\\Documents\\\\VSem\\\\WebLab\\\\Movie_ticket_system_MERN\\\\frontend\\\\src\\\\components\\\\Payment.jsx\",\n  _s = $RefreshSig$();\nimport StripeCheckout from 'react-stripe-checkout';\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MySwal = withReactContent(Swal);\n_c = MySwal;\nfunction App() {\n  _s();\n  const publishableKey = 'pk_test_51KxCX8SAr7YNHSEgxFEpX0WknXkLlhW3Q1aFKmZ3gubWFUj7sbKeW8nwOkFmtnlhPLTnnrQ0QzXarOABsSDPZb4y00x0yjVTY5';\n  const navigate = useNavigate();\n  const [ticket, setticket] = useState({\n    name: 'Movie Ticket',\n    price: 150\n  });\n  const priceForStripe = ticket.price * 100;\n  const handleSuccess = () => {\n    MySwal.fire({\n      icon: 'success',\n      title: 'Payment was successful',\n      time: 4000\n    });\n    navigate(\"/eticket\");\n  };\n  const handleFailure = () => {\n    MySwal.fire({\n      icon: 'error',\n      title: 'Payment was not successful',\n      time: 4000\n    });\n    navigate(\"/bookinghistory\");\n  };\n  const payNow = async token => {\n    try {\n      const response = await axios({\n        url: 'http://localhost:3000/payment',\n        method: 'post',\n        data: {\n          amount: ticket.price * 100,\n          token\n        }\n      });\n      if (response.status === 200) {\n        handleSuccess();\n      }\n    } catch (error) {\n      handleFailure();\n      console.log(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"back\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/bookticket\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-secondary text-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-arrow-left\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 90\n          }, this), \"\\xA0\\xA0Back\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 27\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card1 my-4 p-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row main\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Movie Ticket Payment Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 32\n              }, this), \"\\xA0\\xA0\\xA0\\xA0\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row justify-content-center mrow\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"https://img.icons8.com/color/48/000000/mastercard-logo.png\",\n                width: \"35px\",\n                height: \"35px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"https://img.icons8.com/color/48/000000/visa.png\",\n                width: \"35px\",\n                height: \"35px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"https://img.icons8.com/color/48/000000/paypal.png\",\n                width: \"35px\",\n                height: \"35px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(StripeCheckout, {\n            stripeKey: publishableKey,\n            label: \"Pay Now\",\n            name: \"Pay With Credit/ Debit Card\",\n            billingAddress: true,\n            shippingAddress: true,\n            amount: priceForStripe,\n            description: `Your total is INR${ticket.price}`,\n            token: payNow\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"BnO5AIycP/MqmOPxRL3ALg7yvio=\", false, function () {\n  return [useNavigate];\n});\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"MySwal\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["StripeCheckout","React","useState","axios","Swal","withReactContent","useNavigate","MySwal","App","publishableKey","navigate","ticket","setticket","name","price","priceForStripe","handleSuccess","fire","icon","title","time","handleFailure","payNow","token","response","url","method","data","amount","status","error","console","log"],"sources":["C:/Users/vivek/Documents/VSem/WebLab/Movie_ticket_system_MERN/frontend/src/components/Payment.jsx"],"sourcesContent":["import StripeCheckout from 'react-stripe-checkout';\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport withReactContent from 'sweetalert2-react-content';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\n\r\n\r\nconst MySwal = withReactContent(Swal);\r\n\r\nfunction App() {\r\n\tconst publishableKey =\r\n\t\t'pk_test_51KxCX8SAr7YNHSEgxFEpX0WknXkLlhW3Q1aFKmZ3gubWFUj7sbKeW8nwOkFmtnlhPLTnnrQ0QzXarOABsSDPZb4y00x0yjVTY5';\r\n\tconst navigate = useNavigate();\r\n\tconst [ticket, setticket] = useState({\r\n\t\tname: 'Movie Ticket',\r\n\t\tprice: 150,\r\n\r\n\t});\r\n\r\n\tconst priceForStripe = ticket.price * 100;\r\n\r\n\tconst handleSuccess = () => {\r\n\t\tMySwal.fire({\r\n\t\t\ticon: 'success',\r\n\t\t\ttitle: 'Payment was successful',\r\n\t\t\ttime: 4000,\r\n\r\n\t\t}); navigate(\"/eticket\");\r\n\t};\r\n\tconst handleFailure = () => {\r\n\t\tMySwal.fire({\r\n\t\t\ticon: 'error',\r\n\t\t\ttitle: 'Payment was not successful',\r\n\t\t\ttime: 4000,\r\n\t\t}); navigate(\"/bookinghistory\");\r\n\t};\r\n\tconst payNow = async token => {\r\n\t\ttry {\r\n\t\t\tconst response = await axios({\r\n\t\t\t\turl: 'http://localhost:3000/payment',\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tamount: ticket.price * 100,\r\n\t\t\t\t\ttoken,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tif (response.status === 200) {\r\n\t\t\t\thandleSuccess();\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\thandleFailure();\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"back\">\r\n\t\t\t\t<a href=\"/bookticket\"><button type=\"button\" className=\"btn btn-secondary text-white\"><i className=\"fa fa-arrow-left\" aria-hidden=\"true\"></i>&nbsp;&nbsp;Back</button></a>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t<div className=\"card1 my-4 p-3\">\r\n\t\t\t\t\t\t<div className=\"row main\">\r\n\t\t\t\t\t\t\t<div className=\"col-12\"><span>Movie Ticket Payment Details</span>&nbsp;&nbsp;&nbsp;&nbsp;</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"row justify-content-center mrow\">\r\n\t\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t\t<img src=\"https://img.icons8.com/color/48/000000/mastercard-logo.png\" width=\"35px\" height=\"35px\" />\r\n\t\t\t\t\t\t\t\t<img src=\"https://img.icons8.com/color/48/000000/visa.png\" width=\"35px\" height=\"35px\" />\r\n\t\t\t\t\t\t\t\t<img src=\"https://img.icons8.com/color/48/000000/paypal.png\" width=\"35px\" height=\"35px\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<StripeCheckout\r\n\t\t\t\t\t\t\tstripeKey={publishableKey}\r\n\t\t\t\t\t\t\tlabel=\"Pay Now\"\r\n\t\t\t\t\t\t\tname=\"Pay With Credit/ Debit Card\"\r\n\t\t\t\t\t\t\tbillingAddress\r\n\t\t\t\t\t\t\tshippingAddress\r\n\t\t\t\t\t\t\tamount={priceForStripe}\r\n\t\t\t\t\t\t\tdescription={`Your total is INR${ticket.price}`}\r\n\t\t\t\t\t\t\ttoken={payNow}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}