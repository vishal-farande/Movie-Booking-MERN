{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/vivek/Documents/VSem/WebLab/Movie-Ticket-Booking-Website/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/vivek/Documents/VSem/WebLab/Movie-Ticket-Booking-Website/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:/Users/vivek/Documents/VSem/WebLab/Movie-Ticket-Booking-Website/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React from\"react\";import{useState,useEffect}from\"react\";import Header from\"./Header\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Listuser(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),lusers=_useState2[0],setUsers=_useState2[1];useEffect(function(){listusers();},[]);function listusers(){return _listusers.apply(this,arguments);}function _listusers(){_listusers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var location,token,settings,fetchResponse,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:location=\"localhost\";token=sessionStorage.getItem('token');settings={method:'GET',headers:{Accept:'application/json','Content-Type':'application/json',Authorization:\"Bearer \".concat(token)}};_context.prev=3;_context.next=6;return fetch(\"http://\".concat(location,\":3000/users/list-users/\"),settings);case 6:fetchResponse=_context.sent;_context.next=9;return fetchResponse.json();case 9:data=_context.sent;setUsers(data.users);_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](3);return _context.abrupt(\"return\",_context.t0);case 16:case\"end\":return _context.stop();}}},_callee,null,[[3,13]]);}));return _listusers.apply(this,arguments);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"h3\",{id:\"update1\",className:\"Update1 text-white\",children:\"REGISTERED USER LIST\"}),/*#__PURE__*/_jsx(\"div\",{className:\" col-md-4 m-3 p-4 mx-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered table-responsive\",id:\"ulist\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-transparent text-center\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Mobile\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"usertable m-3 p-5\",id:\"userData\",children:lusers.map(function(users){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:users.first_name}),/*#__PURE__*/_jsx(\"td\",{children:users.last_name}),/*#__PURE__*/_jsx(\"td\",{children:users.email}),/*#__PURE__*/_jsx(\"td\",{children:users.mobile})]});})})]})})]});}export default Listuser;","map":{"version":3,"names":["React","useState","useEffect","Header","Listuser","lusers","setUsers","listusers","location","token","sessionStorage","getItem","settings","method","headers","Accept","Authorization","fetch","fetchResponse","json","data","users","map","first_name","last_name","email","mobile"],"sources":["C:/Users/vivek/Documents/VSem/WebLab/Movie-Ticket-Booking-Website/frontend/src/components/Listuser.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Header from \"./Header\";\r\n\r\n\r\nfunction Listuser() {\r\n    const [lusers, setUsers] = useState([])\r\n\r\n    useEffect(() => {\r\n        listusers();\r\n    }, []);\r\n\r\n    async function listusers() {\r\n\r\n        const location = \"localhost\";\r\n        const token = sessionStorage.getItem('token');\r\n        const settings = {\r\n            method: 'GET',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${token}`,\r\n            }\r\n        };\r\n\r\n        try {\r\n            //user list\r\n            const fetchResponse = await fetch(`http://${location}:3000/users/list-users/`, settings);\r\n            const data = await fetchResponse.json();\r\n            setUsers(data.users);\r\n        }\r\n        catch (e) {\r\n            return e;\r\n        }\r\n\r\n    }\r\n    return (\r\n        <>\r\n            <Header />\r\n            <h3 id=\"update1\" className=\"Update1 text-white\">REGISTERED USER LIST</h3>\r\n            <div className=\" col-md-4 m-3 p-4 mx-auto\">\r\n\r\n                <table className=\"table table-bordered table-responsive\" id=\"ulist\" >\r\n\r\n                    <thead className=\"thead-transparent text-center\">\r\n                        <tr>\r\n                            <th scope=\"col\">First Name</th>\r\n                            <th scope=\"col\">Last Name</th>\r\n                            <th scope=\"col\">Email</th>\r\n                            <th scope=\"col\">Mobile</th>\r\n                        </tr>\r\n                    </thead>\r\n\r\n                    <tbody className=\"usertable m-3 p-5\" id=\"userData\">\r\n                        {lusers.map(users => {\r\n                            return (\r\n                                <tr>\r\n                                    <td>{users.first_name}</td>\r\n                                    <td>{users.last_name}</td>\r\n                                    <td>{users.email}</td>\r\n                                    <td>{users.mobile}</td>\r\n                                </tr>\r\n                            )\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nexport default Listuser;"],"mappings":"meAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAOC,OAAM,KAAM,UAAU,CAAC,6IAG9B,QAASC,SAAQ,EAAG,CAChB,cAA2BH,QAAQ,CAAC,EAAE,CAAC,wCAAhCI,MAAM,eAAEC,QAAQ,eAEvBJ,SAAS,CAAC,UAAM,CACZK,SAAS,EAAE,CACf,CAAC,CAAE,EAAE,CAAC,CAAC,QAEQA,UAAS,qIAAxB,kLAEUC,QAAQ,CAAG,WAAW,CACtBC,KAAK,CAAGC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,CACvCC,QAAQ,CAAG,CACbC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACLC,MAAM,CAAE,kBAAkB,CAC1B,cAAc,CAAE,kBAAkB,CAClCC,aAAa,kBAAYP,KAAK,CAClC,CACJ,CAAC,uCAI+BQ,MAAK,kBAAWT,QAAQ,4BAA2BI,QAAQ,CAAC,QAAlFM,aAAa,qCACAA,cAAa,CAACC,IAAI,EAAE,QAAjCC,IAAI,eACVd,QAAQ,CAACc,IAAI,CAACC,KAAK,CAAC,CAAC,mMAM5B,4CACD,mBACI,wCACI,KAAC,MAAM,IAAG,cACV,WAAI,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,oBAAoB,kCAA0B,cACzE,YAAK,SAAS,CAAC,2BAA2B,uBAEtC,eAAO,SAAS,CAAC,uCAAuC,CAAC,EAAE,CAAC,OAAO,wBAE/D,cAAO,SAAS,CAAC,+BAA+B,uBAC5C,mCACI,WAAI,KAAK,CAAC,KAAK,wBAAgB,cAC/B,WAAI,KAAK,CAAC,KAAK,uBAAe,cAC9B,WAAI,KAAK,CAAC,KAAK,mBAAW,cAC1B,WAAI,KAAK,CAAC,KAAK,oBAAY,GAC1B,EACD,cAER,cAAO,SAAS,CAAC,mBAAmB,CAAC,EAAE,CAAC,UAAU,UAC7ChB,MAAM,CAACiB,GAAG,CAAC,SAAAD,KAAK,CAAI,CACjB,mBACI,mCACI,oBAAKA,KAAK,CAACE,UAAU,EAAM,cAC3B,oBAAKF,KAAK,CAACG,SAAS,EAAM,cAC1B,oBAAKH,KAAK,CAACI,KAAK,EAAM,cACtB,oBAAKJ,KAAK,CAACK,MAAM,EAAM,GACtB,CAEb,CAAC,CAAC,EACE,GACJ,EACN,GACP,CAGX,CAEA,cAAetB,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}